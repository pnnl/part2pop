diff a/tests/unit/population/test_utils.py b/tests/unit/population/test_utils.py	(rejected hunks)
@@ -112,3 +112,21 @@ def test_expand_compounds_for_population(monkeypatch):
     # Na appears from NaCl plus explicit Na
     assert merged["Na"] > merged["Cl"]
     assert merged["X"] > 0
+
+
+def test_read_available_species_tokens(monkeypatch):
+    fake_data = "\n".join(
+        [
+            "# header",
+            "X 100 0 10d-3 0.5",
+            "ABC 100 0 20d-3 0.1",
+        ]
+    )
+    monkeypatch.setattr(
+        utils,
+        "open_dataset",
+        lambda _: io.StringIO(fake_data),
+    )
+    tokens = utils._read_available_species_tokens()
+    assert tokens[0] == "ABC"  # sorted longest-first
+    assert "X" in tokens
