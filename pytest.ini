# pytest.ini
[pytest]
minversion = 7.0

# Default test locations: unit tests only
# Integration tests should not be auto-collected unless explicitly targeted
testpaths = tests/unit
python_files = test_*.py

markers =
    integration: marks tests as integration tests (slow, extra deps)

# Default options for *unit tests only*:
# - enforce known markers
# - do NOT include coverage here (it breaks integration runs)
addopts =
    --strict-markers
    --import-mode=importlib

# Keep CI quiet
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning


# # Default test locations (unit tests only)
# [pytest]
# minversion = 7.0
# testpaths = tests/unit
# python_files = test_*.py

# # Useful markers
# markers =
#     integration: marks tests as integration tests (slow, extra deps)

# # Default options:
# # - Enforce known markers
# # - Always collect coverage for the part2pop package
# # - Write XML (for Codecov) and show a terminal summary
# addopts =
#     --strict-markers
#     --cov=part2pop
#     --cov-report=xml
#     --cov-report=term
#     --import-mode=importlib

# # Optional but recommended: keep CI output clean
# filterwarnings =
#     ignore::DeprecationWarning
#     ignore::PendingDeprecationWarning
